extends ../layout.pug
 
block content
    h1 Enregistrer un bien
    if error
        .alert.alert-danger= error
 

    .d-flex.justify-content-between.flex-wrap.flex-md-nowrap.align-items-center.pt-3.pb-2.mb-3.border-bottom
        h1.h2 Enregistrer un bien
        .btn-toolbar.mb-2.mb-md-0
            a.btn.btn-small.btn-secondary(href="/admin/realty") Liste des biens
    .row
        form(role="form" action='/admin/realty/form' method="post")

            .row
                .col-xs-12.col-lg-6 
                    fieldset
                        legend Adresse du bien
                        .col-lg-12 
                            .form-group
                                label Nom du vendeur
                                input.form-control(type="text" name="realty[seller]" maxlength="40" required placeholder="Nom du vendeur")
                        .col-lg-12 
                            .form-group
                                label Adresse
                                input.form-control(type="text" name="realty[address1]"  maxlength="80" placeholder="Adresse")
                        .col-lg-12 
                            .form-group
                                input.form-control(type="text" name="realty[address2]"  maxlength="80" placeholder="suite adresse (facultatif)")
                        .col-lg-6 
                            .form-group
                                label Code postal
                                input.form-control(type="text" name="realty[zipcode]" e maxlength="10" placeholder="Code postal")
                        .col-lg-6 
                            .form-group
                                label Ville
                                input.form-control(type="text" name="realty[city]"  maxlength="80" placeholder="Ville")
                        .col-lg-12 
                            .form-group
                                label Informations complémentaires
                                textarea.form-control(name="realty[info_address]"  style="height:200px;width:100%;" placeholder="Distances des transports en commun, commerces de proximités, etc")
                .col-xs-12.col-lg-6  
                    fieldset
                        legend Contact du bien
                        .form-group
                            label Civilité
                            select.form-control(name="contact[civility]")
                                option(value="1" ) Monsieur
                                option(value="2" selected= true) Madame
                        .form-group
                            label Nom
                            input.form-control(name="contact[lastname]"  type="text" placeholder="Nom")
                        .form-group
                            label Prénom
                            input.form-control(name="contact[firstname]"  type="text" placeholder="Prénom")
                        .form-group
                            label Email
                            input.form-control(name="contact[email]"  type="email" placeholder="Adresse mail")
                        .form-group
                            label Mobile
                            input.form-control(name="contact[mobile]"  type="text" placeholder="Numéro de mobile")
                        .form-group
                            label Téléphone
                            input.form-control(name="contact[phone]"  type="text" placeholder="Numéro de téléphone")
                        .form-group
                            label Informations complémentaires
                            textarea.form-control(name="contact[info]"  style="height:90px;width:100%;" placeholder="Disponibilités")
            .row
                .col 
                    fieldset
                        legend Informations du bien
                        .row
                            .col-xs-12.col-lg-6  
                                .row
                                    .form-group
                                        label Type de bien
                                        select.form-control(name="realty[type]")
                                            option(value="1" selected= true) Maison
                                            option(value="2" ) Appartement                                        
                                            option(value="3" ) Terrain
                                            option(value="4" ) Parking
                                            option(value="5" ) Local / Bureau 
                                            option(value="6" ) Autres 
                            
                                    .form-group
                                        label Prix net vendeur
                                        input.form-control(name="realty[price]"  type="number" placeholder="Prix net vendeur")
                        
                                    .form-group
                                        label Commision
                                        input.form-control(name="realty[amount_commission]"  type="number" placeholder="Montant de commission")
                                    .form-group
                                        input.form-control(name="realty[percentage_commission]"  type="number" placeholder="% de commission")
                            .col-xs-12.col-lg-6  
                                .row                 
                                    .lcUpload__block
                                        .lcUpload__input
                                            input.lcUpload__file(type="file" name="photos" id="file" data-multiple-caption="{count} fichiers sélectionnés" multiple)
                                            label(for="file")
                                                strong Choisissez le fichier
                                                span.lcUpload__dragndrop  ou glissez le ici
                        
                        .row
                            .col-xs-12.col-lg-6    
                                .form-group
                                    label Surface (m²)
                                    input.form-control(name="realty[area]"  type="number" min="0" step="1" placeholder="Surface en m²")
                            .col-xs-12.col-lg-6 
                                .form-group
                                    label Pièces
                                    input.form-control(name="realty[room]"  type="number" min="0" step="1" placeholder="Nombre de pièces")
                            .col-xs-12.col-lg-6  
                                .form-group
                                    label Type de ventes
                                    select.form-control(name="realty[type_product]")
                                        option(value="1" ) Ancien
                                        option(value="2" ) Neuf
                                        option(value="3" ) Viager
                        .col-lg-12 
                            .form-group
                                label Informations complémentaires sur le bien
                                textarea.form-control(name="realty[info_realty]" style="height:90px;width:100%;" placeholder="Travaux à effectuer, classe énergie, GES, etc")

            .row
                .col-lg-12
                    button.btn.btn-primary.center-block(type="submit")= (route.indexOf('/admin/realty/edit') != -1  ? 'Modifier' : 'Enregistrer' ) 